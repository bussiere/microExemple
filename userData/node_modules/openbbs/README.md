#### OpenBBS node.js API Client

This  client allow openBBS developers to build their own BBS/Blog/Forum logic in front
of an openBBS REST API Server.

Module Installation:

    npm install OpenBBS/openbbs --save


Create an openBBS client:

     var Openbbs  = require('openbbs');
     var openbbs  = new Openbbs;

     openbbs.init({ host : 'http://localhost:5001',
                    token : 'none',
                    key: 'api-key' });
     console.log( client.getConfig() )


#### User Creation 


Requesting a credentials for authentification:

     var options = {  
                       login:     'bob',
                       password:  'a very long password'
                    }

     openbbs.authAdd(options,function(err,response){
	console(response)
        // 201: accepted
        // 403: refused (login already used)
        // 500: API not available
     })



Checking if a credentials (login) exist:

     openbbs.authCheck('bob',function(err,response){
      	console.log(response)
        // 200: exist
        // 404: not found
        // 500: API not available
     })


Generate a 'openbbs_user_token' from a working login and password:

      var options = {
	  login:    'TheUserLogin', 
          password: 'theUserPassword',
          ip:       '1.2.3.4'
      }

      openbbs.auth(options, function(err, token){
	      if (err) {
        	    console.log('error',err)
              } else {
	 	   if (token) {
	 	   	console.log(token.openbbs_user_token)
	 	   } else {
	 	   	console.log('Wrong Login or Password')
	 	   }
       }})

        { userId: 'VJr3LuAHl',
          openbbs_user_token: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1
                               NiJ9.eyJ1c2VySWQiOiJWSnIzTHVBSGw
                               iLCJzZWN0b3IiOiJhbHBoYSJ9.DZKCIC
                               Iq_1QWKuhtIwxNE4WsmmTVtjoa9eqUQr
                               U9eYE' 
        }




## Propaganda



Posting a new element for the propaganda

	var options = {
		bbs    : 'dev',
		sub    : 'null',
		title  : 'Hello World',
                url    : 'http://www.HelloWorld.com',
	}
        
        var userToken = 'the-user-token'

        bbs.propaAdd(options, userToken, function(err, msg) {
		if (err) { 
			console.log(err);
		else {
			console.log(msg); // { msg : 'sent' }
		}
	}



Reading a element posted in the propaganda

      var options = {
        bbs    : 'dev',
        sub    : 'null',
        id     : 'pJUbY78hBH8g'
      }
      var userToken = 'the-user-token'

      bbs.getThing(options, userToken, function(err, thingInfo) {
        if (err) { 
          console.log(err);
        else {
          console.log(msg); // { msg : 'sent' }
        }
      }


Adding a reply(comment) in a talks(thread) for a specific elements(things)

	var options = {
		bbs    : 'dev',
		sub    : 'null',
		id     : 'KhaJ_jU_a'  // talk ID you reply from 
                slug   : 'Jjgh'       // comment ID you reply from, empty for new comment
                raw    : 'me too'
	}
        
        var userToken = 'the-user-token'

        bbs.replyAdd(options, userToken, function(err, msg) {
		if (err) { 
			console.log(err);
		else {
			console.log(msg); // { msg : 'sent' }
		}
	}




Reading the propaganda from a sub-sector :

	var options = {
  		bbs     : 'dev',
  		sub     : 'null',
  		canal   : 'hot',    // hot, new, seditious, top,
  		userId  : 'fantomas',
  		limit   : false,
  		after   : false,
  		display : 'full',
  		_debug  : true,  
  		_trace  : true,  
	}

	var jwt = 'TheUserWebToken'

	bbs.propaganda(options, jwt, function(err, array){
  		if (err) {
    			console.log('error',err)
  		} else {
    			console.log('code', array): 
  		}
	}) 


Reading the talks/Thread  from a sub-sector :

	var options = {
  		bbs     : 'dev',
  		sub     : 'null',
  		tid     : 'hot',    // Talks id
  		limit   : false,
  		after   : false,
  		display : 'full',
  		_debug  : false,   // for dev  
  		_trace  : false,   // for dev
	}

	var jwt = 'TheUserWebToken'

	bbs.getTalks(options, jwt, function(err, array){
  		if (err) {
    			console.log('error',err)
  		} else {
    			console.log('code', array): 
  		}
	}) 



